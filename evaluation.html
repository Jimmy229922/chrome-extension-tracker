<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="color-scheme" content="dark">
  <title>ØªÙ‚ÙŠÙŠÙ… Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="style_extras.css">
  <style>
    :root {
      color-scheme: dark;
    }
    body {
        margin: 0;
        padding: 40px;
        font-family: 'Tajawal', 'Cairo', sans-serif;
        background-color: #1a1a2e;
        color: #e0e0e0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .main-container {
        width: 100%;
        max-width: 1200px;
        display: grid;
        grid-template-columns: 1.2fr 0.8fr; /* Adjusted ratio */
        gap: 30px;
    }

    .card {
        background: #16213e;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        border: 1px solid rgba(255,255,255,0.05);
        height: fit-content;
    }

    h1 {
        text-align: center;
        margin-bottom: 40px;
        font-size: 2.5rem;
        background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 4px 15px rgba(0,0,0,0.3);
        font-weight: 800;
        width: 100%;
    }

    h2 {
        margin-top: 0;
        color: #fff;
        border-bottom: 2px solid #0f3460;
        padding-bottom: 15px;
        margin-bottom: 25px;
        font-size: 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap; 
        gap: 10px;
    }

    /* Form Styles */
    .input-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    label {
        font-size: 0.95rem;
        color: #a0a0b0;
    }

    select {
        background-color: #0f3460;
        border: 1px solid #253b6e;
        color: #fff;
        padding: 12px;
        border-radius: 8px;
        font-size: 1rem;
        font-family: inherit;
        text-align: center;
        width: 100%;
        outline: none;
    }

    /* Custom Input Table Grid */
    .reports-grid {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr; /* Name | Done | Sent */
        gap: 10px;
        align-items: center;
        margin-bottom: 20px;
    }

    .grid-header {
        font-weight: bold;
        color: #00d2ff;
        text-align: center;
        padding-bottom: 10px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        margin-bottom: 10px;
    }

    .grid-row-label {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #e0e0e0;
        font-size: 0.9rem;
    }

    .weight-badge {
        font-size: 0.7rem;
        background: #253b6e;
        padding: 2px 6px;
        border-radius: 6px;
        color: #00d2ff;
        min-width: 20px;
        text-align: center;
    }

    input[type="number"] {
        background-color: #0f3460;
        border: 1px solid #253b6e;
        color: #fff;
        padding: 8px;
        border-radius: 6px;
        font-size: 0.95rem;
        font-family: inherit;
        text-align: center;
        width: 100%;
        transition: all 0.2s;
        box-sizing: border-box; /* Include padding in width */
    }

    input[type="number"]:focus {
        border-color: #00d2ff;
        background-color: #1a2b4b;
    }
    
    input::placeholder {
        color: rgba(255,255,255,0.2);
    }

    button.action-btn {
        width: 100%;
        padding: 15px;
        background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition: transform 0.2s;
    }

    button.action-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 210, 255, 0.4);
    }

    /* Fixed Reset Button Styles */
    button.reset-week-btn {
        background: #e74c3c !important; /* Brighter Red */
        color: #ffffff !important;
        border: 2px solid #c0392b !important;
        padding: 8px 20px !important;
        font-size: 0.95rem !important;
        border-radius: 8px !important;
        cursor: pointer;
        font-family: 'Tajawal', 'Cairo', sans-serif !important;
        font-weight: 700 !important;
        transition: all 0.3s ease;
        box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 120px;
        line-height: 1.5;
        text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    }
    
    button.reset-week-btn:hover {
        background: #ff5e57 !important;
        transform: translateY(-2px);
    }

    /* Leaderboard Styles */
    .leaderboard-table {
        width: 100%;
        border-collapse: collapse;
    }

    .leaderboard-table th {
        text-align: right;
        color: #a0a0b0;
        padding: 10px;
        border-bottom: 1px solid #253b6e;
        font-size: 0.9rem;
    }

    .leaderboard-table td {
        padding: 15px 10px;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        font-weight: 500;
        font-size: 1.1rem;
    }

    .rank-cell {
        font-weight: 800;
        width: 40px;
    }
    
    .rank-1 { color: #ffd700; font-size: 1.3rem; }
    .rank-2 { color: #c0c0c0; font-size: 1.2rem; }
    .rank-3 { color: #cd7f32; font-size: 1.2rem; }

    .score-cell {
        color: #00d2ff;
        font-weight: bold;
        font-family: 'Consolas', monospace;
    }

    .ideal-employee-section {
        background: linear-gradient(135deg, rgba(0, 210, 255, 0.1) 0%, rgba(58, 123, 213, 0.1) 100%);
        border: 1px solid #00d2ff;
        padding: 20px;
        border-radius: 15px;
        text-align: center;
        margin-bottom: 25px;
        animation: glow 2s infinite alternate;
    }

    @keyframes glow {
        from { box-shadow: 0 0 10px rgba(0, 210, 255, 0.1); }
        to { box-shadow: 0 0 20px rgba(0, 210, 255, 0.3); }
    }

    .ideal-title {
        color: #00d2ff;
        font-size: 0.9rem;
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 2px;
    }
    
    .grid-row-label {
        cursor: pointer;
        transition: color 0.2s;
        position: relative;
    }
    .grid-row-label:hover {
        color: #00d2ff;
    }
    .grid-row-label:hover::after {
        content: '?';
        position: absolute;
        right: -15px; /* Adjust based on padding/layout */
        top: 50%;
        transform: translateY(-50%);
        font-size: 0.8rem;
        background: #00d2ff;
        color: #000;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }

    .ideal-name {
        font-size: 2.2rem;
        font-weight: 800;
        color: #fff;
        margin: 0;
    }
    
    .winner-crown {
        font-size: 3rem;
        margin-bottom: 10px;
        display: block;
    }

    @media (max-width: 900px) {
        .main-container {
            grid-template-columns: 1fr;
        }
    }
  </style>
</head>
<body class="dark-mode">

  <h1>ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</h1>

  <div class="main-container">
    
    <!-- Input Section -->
    <div class="card">
        <h2>
            Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚Ø±ÙŠØ±
             <div style="font-size: 1rem; color: #00d2ff; background: rgba(0, 210, 255, 0.1); padding: 5px 10px; border-radius: 8px;">
                Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="current-total-score">0</span>
            </div>
        </h2>
        
        <div class="input-group" style="margin-bottom: 25px;">
            <div style="display: flex; gap: 10px;">
                <select id="employee-select" style="flex-grow: 1;">
                    <option value="" disabled selected>-- Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¸Ù Ù„ØªÙ‚ÙŠÙŠÙ…Ù‡ --</option>
                </select>
                <button id="manage-employees-btn" style="background: #253b6e; border: 1px solid #4a69bd; color: #fff; padding: 0 15px; border-radius: 8px; cursor: pointer; font-size: 1.2rem;" title="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†">âš™ï¸</button>
            </div>
            
            <!-- Managers Score Display -->
            <div style="display: flex; gap: 10px; margin-top: 15px;">
                <!-- Shift Manager -->
                <div id="shift-manager-display-container" style="flex: 1; background: rgba(255, 159, 243, 0.1); border: 1px solid rgba(255, 159, 243, 0.3); padding: 10px; border-radius: 8px; display: none; align-items: center; justify-content: space-between; cursor: pointer;">
                    <span style="color: #ff9ff3; font-weight: bold;">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø´ÙŠÙØª</span>
                    <span id="shift-manager-display-value" style="color: #fff; font-weight: 800; font-size: 1.2rem;">-</span>
                    <input type="hidden" id="shift-manager-input">
                    <button id="edit-shift-score-btn" style="background: none; border: none; color: #ff9ff3; cursor: pointer; text-decoration: underline; font-size: 0.9rem;">ØªØ¹Ø¯ÙŠÙ„</button>
                </div>

                <!-- Dept Manager -->
                <div id="dept-manager-display-container" style="flex: 1; background: rgba(0, 210, 255, 0.1); border: 1px solid rgba(0, 210, 255, 0.3); padding: 10px; border-radius: 8px; display: none; align-items: center; justify-content: space-between; cursor: pointer;">
                    <span style="color: #00d2ff; font-weight: bold;">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù‚Ø³Ù…</span>
                    <span id="dept-manager-display-value" style="color: #fff; font-weight: 800; font-size: 1.2rem;">-</span>
                    <input type="hidden" id="dept-manager-input">
                    <button id="edit-dept-score-btn" style="background: none; border: none; color: #00d2ff; cursor: pointer; text-decoration: underline; font-size: 0.9rem;">ØªØ¹Ø¯ÙŠÙ„</button>
                </div>
            </div>
        </div>

        <div class="reports-grid">
            <div class="grid-header" style="text-align:right;">Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±</div>
            <div class="grid-header">Done</div>
            <div class="grid-header">Sent</div>

            <!-- ROW 1 -->
            <div class="grid-row-label"><span class="weight-badge">14</span> Suspicious</div>
            <div><input type="number" id="inp-suspicious-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-suspicious-sent" placeholder="0" min="0"></div>

            <!-- ROW 2 -->
            <div class="grid-row-label"><span class="weight-badge">14</span> Deposit Percentage</div>
            <div><input type="number" id="inp-deposit-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-deposit-sent" placeholder="0" min="0"></div>

            <!-- ROW 3 -->
            <div class="grid-row-label"><span class="weight-badge">10</span> 3 Days Balance</div>
            <div><input type="number" id="inp-3days-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-3days-sent" placeholder="0" min="0"></div>
            
            <!-- ROW 4 -->
            <div class="grid-row-label"><span class="weight-badge">8</span> New Positions</div>
            <div><input type="number" id="inp-new-pos-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-new-pos-sent" placeholder="0" min="0"></div>

            <!-- ROW 5 -->
            <div class="grid-row-label"><span class="weight-badge">8</span> Profit Watching</div>
            <div><input type="number" id="inp-profit-watch-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-profit-watch-sent" placeholder="0" min="0"></div>

            <!-- ROW 6 -->
            <div class="grid-row-label"><span class="weight-badge">8</span> Profit Summary</div>
            <div><input type="number" id="inp-profit-sum-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-profit-sum-sent" placeholder="0" min="0"></div>

            <!-- ROW 7 -->
            <div class="grid-row-label"><span class="weight-badge">6</span> Same Price SL</div>
            <div><input type="number" id="inp-same-sl-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-same-sl-sent" placeholder="0" min="0"></div>

            <!-- ROW 8 -->
            <div class="grid-row-label"><span class="weight-badge">6</span> Deals Profit</div>
            <div><input type="number" id="inp-deals-profit-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-deals-profit-sent" placeholder="0" min="0"></div>

            <!-- ROW 9 -->
            <div class="grid-row-label"><span class="weight-badge">4</span> Credit Out</div>
            <div><input type="number" id="inp-credit-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-credit-sent" placeholder="0" min="0"></div>

            <!-- ROW 10 -->
            <div class="grid-row-label"><span class="weight-badge">4</span> Profit over 0</div>
            <div><input type="number" id="inp-profit-zero-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-profit-zero-sent" placeholder="0" min="0"></div>

            <!-- ROW 11 -->
            <div class="grid-row-label"><span class="weight-badge">4</span> Floating Profit</div>
            <div><input type="number" id="inp-floating-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-floating-sent" placeholder="0" min="0"></div>

            <!-- ROW 12 -->
            <div class="grid-row-label"><span class="weight-badge">3</span> Two Actions</div>
            <div><input type="number" id="inp-two-actions-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-two-actions-sent" placeholder="0" min="0"></div>

            <!-- ROW 13 -->
            <div class="grid-row-label"><span class="weight-badge">0</span> Market Warnings</div>
            <div style="grid-column: span 2;">
                <select id="inp-market-done" style="width:100%; height:100%; background:#2f3640; color:#fff; border:1px solid #444; border-radius:5px; padding:8px 10px; font-size:0.95rem;">
                    <option value="0" selected>ØºÙŠØ± Ù…ØªØ§Ø¨Ø¹</option>
                    <option value="1">Ù…ØªØ§Ø¨Ø¹</option>
                </select>
            </div>

            <!-- ROW 14 -->
            <div class="grid-row-label"><span class="weight-badge">1</span> Profit Leverage</div>
            <div><input type="number" id="inp-leverage-done" placeholder="0" min="0"></div>
            <div><input type="number" id="inp-leverage-sent" placeholder="0" min="0"></div>

            <!-- ROW 15: Excellence -->
            <div class="grid-row-label"><span class="weight-badge">Ø®Ø§Øµ</span> Ø§Ù„ØªÙ…ÙŠØ²</div>
            <div style="grid-column: span 2; display:flex; gap:10px; align-items:center;">
                <input type="text" id="inp-excellence-note" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ØªÙ…ÙŠØ²..." style="flex:1; background:#2f3640; color:#ffd700; border:1px solid #ffd700; border-radius:5px; padding:0 10px; font-weight:bold; height:100%;">
                <select id="inp-excellence-bonus" style="width:140px; background:#2f3640; color:#ffd700; border:1px solid #ffd700; border-radius:5px; padding:0 10px; height:100%; font-weight:bold; text-align:center;">
                    <option value="0" selected>Ø¨Ø¯ÙˆÙ† Ø²ÙŠØ§Ø¯Ø©</option>
                    <option value="1">Ø²ÙŠØ§Ø¯Ø© 1</option>
                    <option value="2">Ø²ÙŠØ§Ø¯Ø© 2</option>
                    <option value="3">Ø²ÙŠØ§Ø¯Ø© 3</option>
                </select>
            </div>

        </div>


        <div class="accuracy-total" style="display:flex; gap:10px; align-items:center; margin: 10px 0 20px;">
            <label id="acc-header" style="min-width:160px; color:#00d2ff; font-weight:bold; cursor:help;">Ø§Ù„Ø¯Ù‚Ø© (Ù…Ù† 0 Ø¥Ù„Ù‰ 30)</label>
            <input type="number" id="inp-accuracy-total" placeholder="0" min="0" max="30" step="0.01" style="flex:1;">
        </div>

        <button id="save-btn" class="action-btn">Ø­ÙØ¸ ÙˆØªØ­Ø¯ÙŠØ«</button>
    </div>

    <!-- Leaderboard Section -->
    <div class="card">
        <h2>
            ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
            <div style="display:inline-flex; gap:10px;">
                <button id="compare-btn" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; border: none; padding: 10px 18px; border-radius: 8px; cursor: pointer; font-family: 'Tajawal', 'Cairo', sans-serif; font-size: 0.95rem; font-weight: 700; display: none; align-items: center; gap: 6px; transition: all 0.3s; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);">
                    <span style="color: #fff !important; -webkit-text-fill-color: #fff !important; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">âš–ï¸ Ù…Ù‚Ø§Ø±Ù†Ø©</span>
                </button>
                <button id="reset-all-btn" style="background: #c0392b !important; color: #fff !important; -webkit-text-fill-color: #fff !important; border: none; padding: 10px 18px; border-radius: 8px; cursor: pointer; font-family: 'Tajawal', 'Cairo', sans-serif; font-size: 0.95rem; font-weight: 700; display: inline-flex; align-items: center; gap: 6px; transition: all 0.3s;">
                    <span style="color: #fff !important; -webkit-text-fill-color: #fff !important;">ğŸ—‘ï¸ ØªØµÙÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</span>
                </button>
            </div>
        </h2>

        <div id="ideal-employee-container" class="ideal-employee-section" style="display:none;">
            <div class="winner-crown">ğŸ‘‘</div>
            <div class="ideal-title">Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</div>
            <h3 class="ideal-name" id="ideal-name">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h3>
            <div style="margin-top:5px; color:#00d2ff; font-weight:bold;">Ø§Ù„Ø¯Ø±Ø¬Ø©: <span id="ideal-score">0</span></div>
            <div style="font-size:0.8rem; color:#a0a0b0; margin-top:5px;">(Done + Sent) Ã— Ø§Ù„ÙˆØ²Ù†</div>
        </div>

        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th style="width: 40px;"></th> <!-- Checkbox -->
                    <th>#</th>
                    <th>Ø§Ù„Ù…ÙˆØ¸Ù</th>
                    <th style="text-align:center;">Ø§Ù„Ø¯Ø±Ø¬Ø©</th>
                </tr>
            </thead>
            <tbody id="leaderboard-body">
                <!-- Rows will be added here -->
            </tbody>
        </table>
    </div>

  </div>

  <!-- Comparison Modal -->
  <div id="compare-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.92); z-index:2500; justify-content:center; align-items:center; backdrop-filter: blur(8px);">
      <div class="modal-content" style="background:#16213e; padding:30px; border-radius:20px; width:95%; max-width:1100px; color:#fff; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 20px 60px rgba(0,0,0,0.7); max-height:90vh; display:flex; flex-direction:column;">
          
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; padding-bottom:15px; border-bottom:1px solid rgba(255,255,255,0.1);">
              <h2 style="margin:0; color:#00d2ff; font-size:1.8rem;">Ù…Ù€Ù‚Ù€Ø§Ø±Ù†Ù€Ø© Ø§Ù„Ù…Ù€ÙˆØ¸Ù€ÙÙŠÙ€Ù†</h2>
              <button id="close-compare-modal-btn" style="background:none; border:none; color:#aaa; font-size:2rem; cursor:pointer; line-height:1;">&times;</button>
          </div>

          <div id="compare-content" style="overflow-x:auto; flex-grow:1; padding-bottom:10px;">
             <!-- Table Injected Here -->
          </div>

      </div>
  </div>

  <!-- Employee Details Modal -->
  <div id="details-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:1000; justify-content:center; align-items:center; backdrop-filter: blur(5px);">
    <div class="modal-content" style="background:#16213e; padding:0; border-radius:20px; width:90%; max-width:600px; color:#fff; position:relative; max-height:90vh; overflow-y:auto; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 20px 50px rgba(0,0,0,0.5);">
        
        <!-- Header Image/Gradient -->
        <div style="background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%); padding: 20px 20px 30px 20px; border-radius: 20px 20px 0 0; text-align: center; position: relative;">
            <span id="close-modal" style="position:absolute; top:10px; right:15px; font-size:1.5rem; cursor:pointer; color:rgba(255,255,255,0.8); transition:0.2s;">&times;</span>
            <span id="print-modal-btn" style="position:absolute; top:15px; right:50px; font-size:1.2rem; cursor:pointer; color:rgba(255,255,255,0.8); transition:0.2s; background:rgba(0,0,0,0.2); width:30px; height:30px; border-radius:50%; display:flex; align-items:center; justify-content:center;" title="ØªØµØ¯ÙŠØ± PDF">ğŸ–¨ï¸</span>
            <div id="modal-employee-header" style="font-size: 1.6rem; font-weight: 800; color: #fff; text-shadow: 0 2px 10px rgba(0,0,0,0.2);">Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù</div>
             <div style="font-size: 0.85rem; color: rgba(255,255,255,0.9); margin-top: 4px;">ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</div>
        </div>

        <!-- Body -->
        <div id="modal-details-body" style="padding: 0 20px 20px 20px; margin-top: -25px; position:relative; z-index:10;">
            <!-- Details will be injected here -->
        </div>

    </div>
  </div>

  <!-- Rule Explanation Modal -->
  <div id="rule-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:3000; justify-content:center; align-items:center; backdrop-filter: blur(5px);">
    <div class="modal-content" style="background:#1e272e; padding:30px; border-radius:15px; width:90%; max-width:400px; color:#fff; text-align:center; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 40px rgba(0,0,0,0.5);">
        <div id="rule-title" style="font-size:1.4rem; font-weight:bold; color:#fbc531; margin-bottom:15px;">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ±</div>
        
        <div style="background:#151521; padding:15px; border-radius:10px; margin-bottom:20px;">
            <div style="color:#aaa; font-size:0.9rem; margin-bottom:10px;">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø­ØªØ³Ø§Ø¨</div>
            <div id="rule-formula" style="font-size:1.1rem; color:#00d2ff; font-weight:bold; direction: ltr;">Ø§Ù„ØµÙŠØºØ© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§</div>
        </div>

        <div id="rule-desc" style="font-size:0.95rem; line-height:1.6; color:#ddd; margin-bottom:20px;">Ø§Ø®ØªØ± ØªÙ‚Ø±ÙŠØ±Ù‹Ø§ Ù„Ø¹Ø±Ø¶ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ø³Ø§Ø¨.</div>

        <button id="close-rule-modal-btn" style="background:#00d2ff; color:#000; border:none; padding:8px 25px; border-radius:20px; font-weight:bold; cursor:pointer;">Ø­Ø³Ù†Ù‹Ø§</button>
    </div>
  </div>

  <!-- Manage Employees Modal -->
  <div id="manage-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:2000; justify-content:center; align-items:center; backdrop-filter: blur(5px);">
    <div class="modal-content" style="background:#1e272e; padding:30px; border-radius:15px; width:90%; max-width:500px; color:#fff; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 40px rgba(0,0,0,0.5); display: flex; flex-direction: column; max-height: 85vh;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h2 style="margin:0; border:none; padding:0; font-size: 1.5rem; color: #fff;">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h2>
            <button id="close-manage-modal-btn" style="background:none; border:none; color:#aaa; font-size:1.5rem; cursor:pointer;">&times;</button>
        </div>
        
        <div id="manage-list-container" style="flex-grow: 1; overflow-y: auto; margin-bottom: 20px; padding-right: 5px; display: flex; flex-direction: column; gap: 10px;">
            <!-- Employee Rows injected by JS -->
        </div>

        <div style="background: #151521; padding: 15px; border-radius: 10px; border: 1px dashed rgba(255,255,255,0.2);">
            <div style="font-size: 0.9rem; color: #aaa; margin-bottom: 8px;">Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù Ø¬Ø¯ÙŠØ¯:</div>
            <div style="display: flex; gap: 10px;">
                <input type="text" id="new-employee-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù" style="flex-grow: 1; background: #0f3460; border: 1px solid #253b6e; color: #fff; padding: 8px 12px; border-radius: 6px;">
                <button id="add-employee-btn" style="background: #4cd137; border: none; padding: 0 15px; border-radius: 6px; cursor: pointer; color: #fff; font-weight: bold;">+</button>
            </div>
        </div>
    </div>
  </div>

  <!-- Edit Employee Modal -->
  <div id="edit-employee-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:2100; justify-content:center; align-items:center; backdrop-filter: blur(5px);">
      <div class="modal-content" style="background:#1e272e; padding:30px; border-radius:15px; width:90%; max-width:400px; color:#fff; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 40px rgba(0,0,0,0.5); text-align: center;">
          <h3 style="margin-top:0; color:#00d2ff; margin-bottom: 20px;">ØªØ¹Ø¯ÙŠÙ„ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù</h3>
          <input type="text" id="edit-employee-input" style="width:100%; box-sizing:border-box; background:#0f3460; border:1px solid #253b6e; color:#fff; padding:12px; border-radius:8px; margin-bottom:25px; font-size:1.1rem; text-align:center; outline:none;">
          <div style="display:flex; justify-content:center; gap:15px;">
              <button id="save-edit-btn" style="background:linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color:#fff; border:none; padding:10px 25px; border-radius:8px; cursor:pointer; font-weight:bold; font-size:1rem; transition:transform 0.2s;">Ø­ÙØ¸</button>
              <button id="cancel-edit-btn" style="background:#2f3542; color:#fff; border:none; padding:10px 25px; border-radius:8px; cursor:pointer; font-weight:bold; font-size:1rem; transition:transform 0.2s;">Ø¥Ù„ØºØ§Ø¡</button>
          </div>
      </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div id="delete-confirm-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:2100; justify-content:center; align-items:center; backdrop-filter: blur(5px);">
      <div class="modal-content" style="background:#1e272e; padding:30px; border-radius:15px; width:90%; max-width:400px; color:#fff; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 40px rgba(0,0,0,0.5); text-align: center;">
          <div style="font-size:3.5rem; margin-bottom:15px;">âš ï¸</div>
          <h3 style="margin-top:0; color:#ff6b6b; margin-bottom:15px; font-size:1.3rem;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</h3>
          <p id="delete-confirm-msg" style="color:#ddd; margin-bottom:25px; line-height:1.6; font-size:1rem;">Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ</p>
          <div style="display:flex; justify-content:center; gap:15px;">
              <button id="confirm-delete-btn" style="background:linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%); color:#fff; border:none; padding:10px 25px; border-radius:8px; cursor:pointer; font-weight:bold; font-size:1rem; box-shadow: 0 4px 15px rgba(255, 75, 43, 0.3);">Ù†Ø¹Ù…ØŒ Ø­Ø°Ù</button>
              <button id="cancel-delete-btn" style="background:#2f3542; color:#fff; border:none; padding:10px 25px; border-radius:8px; cursor:pointer; font-weight:bold; font-size:1rem;">Ø¥Ù„ØºØ§Ø¡</button>
          </div>
      </div>
  </div>

  <!-- Shift Manager Eval Modal -->
  <div id="shift-eval-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:2200; justify-content:center; align-items:center; backdrop-filter: blur(5px);">
      <div class="modal-content" style="background:#1e272e; padding:30px; border-radius:15px; width:90%; max-width:400px; color:#fff; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 40px rgba(0,0,0,0.5); text-align: center;">
          <h3 style="margin-top:0; color:#ff9ff3; margin-bottom: 20px;">ØªÙ‚ÙŠÙŠÙ… Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´ÙŠÙØª</h3>
          <p style="color:#aaa; font-size:0.9rem; margin-bottom:15px;">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù†Ø³Ø¨Ø© ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…ÙˆØ¸Ù ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</p>
          
          <div style="position: relative; width: 150px; margin: 0 auto 25px auto;">
              <input type="number" id="shift-eval-modal-input" min="0" max="5" step="0.01" style="width:100%; box-sizing:border-box; background:#0f3460; border:2px solid #ff9ff3; color:#fff; padding:10px; border-radius:12px; font-size:1.2rem; text-align:center; outline:none; cursor:text;">
          </div>
          
          <button id="save-shift-eval-btn" style="width:100%; background:linear-gradient(135deg, #ff9ff3 0%, #feca57 100%); color:#1e272e; border:none; padding:12px; border-radius:10px; cursor:pointer; font-weight:800; font-size:1.1rem; transition:transform 0.2s;">ØªÙ€Ø£ÙƒÙŠÙ€Ø¯</button>
      </div>
  </div>

  <!-- Dept Manager Eval Modal -->
  <div id="dept-eval-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:2200; justify-content:center; align-items:center; backdrop-filter: blur(5px);">
      <div class="modal-content" style="background:#1e272e; padding:30px; border-radius:15px; width:90%; max-width:400px; color:#fff; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 40px rgba(0,0,0,0.5); text-align: center;">
          <h3 style="margin-top:0; color:#00d2ff; margin-bottom: 20px;">ØªÙ‚ÙŠÙŠÙ… Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù‚Ø³Ù…</h3>
          <p style="color:#aaa; font-size:0.9rem; margin-bottom:15px;">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù†Ø³Ø¨Ø© ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…ÙˆØ¸Ù ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</p>
          
          <div style="position: relative; width: 150px; margin: 0 auto 25px auto;">
              <input type="number" id="dept-eval-modal-input" min="0" max="5" step="0.01" style="width:100%; box-sizing:border-box; background:#0f3460; border:2px solid #00d2ff; color:#fff; padding:10px; border-radius:12px; font-size:1.2rem; text-align:center; outline:none; cursor:text;">
          </div>
          
          <button id="save-dept-eval-btn" style="width:100%; background:linear-gradient(135deg, #00d2ff 0%, #0abde3 100%); color:#1e272e; border:none; padding:12px; border-radius:10px; cursor:pointer; font-weight:800; font-size:1.1rem; transition:transform 0.2s;">ØªÙ€Ø£ÙƒÙŠÙ€Ø¯</button>
      </div>
  </div>

  <!-- Manager Score Required Modal -->
  <div id="manager-required-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.92); z-index:3500; justify-content:center; align-items:center; backdrop-filter: blur(8px);">
      <div class="modal-content" style="background: linear-gradient(145deg, #1e272e 0%, #16213e 100%); padding:0; border-radius:20px; width:90%; max-width:420px; color:#fff; border: 2px solid rgba(255, 159, 67, 0.5); box-shadow: 0 25px 60px rgba(0,0,0,0.6), 0 0 40px rgba(255, 159, 67, 0.15); overflow:hidden;">
          
          <!-- Header with Warning Icon -->
          <div style="background: linear-gradient(135deg, #ff9f43 0%, #ee5a24 100%); padding: 25px 20px; text-align: center;">
              <div style="font-size: 4rem; margin-bottom: 10px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));">ğŸ“</div>
              <h3 style="margin: 0; color: #fff; font-size: 1.4rem; font-weight: 800; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©!</h3>
          </div>
          
          <!-- Body -->
          <div style="padding: 25px 30px;">
              <p style="color: #fff; font-size: 1.1rem; line-height: 1.8; margin: 0 0 20px 0; text-align: center;">
                  Ù„Ø§Ø²Ù… ØªØ¯Ø®Ù„ <span style="color: #ff9f43; font-weight: 800;">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø¯ÙŠØ±ÙŠÙ†</span> Ù‚Ø¨Ù„ Ø§Ù„Ø­ÙØ¸
              </p>
              
              <div style="background: rgba(255, 159, 67, 0.1); border: 1px solid rgba(255, 159, 67, 0.3); border-radius: 12px; padding: 15px; margin-bottom: 25px;">
                  <div style="display: flex; flex-direction: column; gap: 12px;">
                      <div style="display: flex; align-items: center; gap: 10px;">
                          <span style="font-size: 1.5rem;">ğŸ‘”</span>
                          <span style="color: #ff9ff3; font-weight: 600;">ØªÙ‚ÙŠÙŠÙ… Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø´ÙŠÙØª</span>
                          <span style="color: #ccc; font-size: 0.85rem;">(Ù…Ù† 0 Ø¥Ù„Ù‰ 5)</span>
                      </div>
                      <div style="display: flex; align-items: center; gap: 10px;">
                          <span style="font-size: 1.5rem;">ğŸ¢</span>
                          <span style="color: #00d2ff; font-weight: 600;">ØªÙ‚ÙŠÙŠÙ… Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù‚Ø³Ù…</span>
                          <span style="color: #ccc; font-size: 0.85rem;">(Ù…Ù† 0 Ø¥Ù„Ù‰ 5)</span>
                      </div>
                  </div>
              </div>
              
              <!-- Button -->
              <button id="close-manager-required-btn" style="width: 100%; background: linear-gradient(135deg, #ff9f43 0%, #ee5a24 100%); color: #fff; border: none; padding: 14px 20px; border-radius: 10px; cursor: pointer; font-weight: 800; font-size: 1rem; transition: all 0.3s; box-shadow: 0 4px 15px rgba(255, 159, 67, 0.4);">
                  ÙÙ‡Ù…ØªØŒ Ø³Ø£Ø¯Ø®Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
              </button>
          </div>
      </div>
  </div>

  <!-- Reset Week Confirmation Modal -->
  <div id="reset-week-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.92); z-index:3500; justify-content:center; align-items:center; backdrop-filter: blur(8px);">
      <div class="modal-content" style="background: linear-gradient(145deg, #1e272e 0%, #16213e 100%); padding:0; border-radius:20px; width:90%; max-width:420px; color:#fff; border: 2px solid rgba(231, 76, 60, 0.5); box-shadow: 0 25px 60px rgba(0,0,0,0.6), 0 0 40px rgba(231, 76, 60, 0.15); overflow:hidden;">
          
          <!-- Header with Warning Icon -->
          <div style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); padding: 25px 20px; text-align: center;">
              <div style="font-size: 4rem; margin-bottom: 10px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));">âš ï¸</div>
              <h3 style="margin: 0; color: #fff; font-size: 1.5rem; font-weight: 800; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">ØªØ­Ø°ÙŠØ± Ù‡Ø§Ù…!</h3>
          </div>
          
          <!-- Body -->
          <div style="padding: 25px 30px;">
              <p style="color: #fff; font-size: 1.1rem; line-height: 1.8; margin: 0 0 15px 0; text-align: center;">
                  Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† <span style="color: #e74c3c; font-weight: 800;">ØªØµÙÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</span>ØŸ
              </p>
              
              <div style="background: rgba(231, 76, 60, 0.1); border: 1px solid rgba(231, 76, 60, 0.3); border-radius: 12px; padding: 15px; margin-bottom: 25px;">
                  <ul style="margin: 0; padding-right: 20px; color: #ccc; font-size: 0.95rem; line-height: 1.8;">
                      <li>Ø³ÙŠØªÙ… Ø­Ø°Ù <b style="color:#fff;">Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</b> Ù„ÙƒÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</li>
                      <li>Ø³ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© <b style="color:#fff;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª</b> Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ±</li>
                      <li style="color: #e74c3c; font-weight: 600;">Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡!</li>
                  </ul>
              </div>
              
              <!-- Buttons -->
              <div style="display: flex; gap: 12px;">
                  <button id="confirm-reset-week-btn" style="flex: 1; background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: #fff; border: none; padding: 14px 20px; border-radius: 10px; cursor: pointer; font-weight: 800; font-size: 1rem; transition: all 0.3s; box-shadow: 0 4px 15px rgba(231, 76, 60, 0.4);">
                      ğŸ—‘ï¸ Ù†Ø¹Ù…ØŒ ØªØµÙÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
                  </button>
                  <button id="cancel-reset-week-btn" style="flex: 1; background: #2f3542; color: #fff; border: 1px solid rgba(255,255,255,0.1); padding: 14px 20px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 1rem; transition: all 0.3s;">
                      Ø¥Ù„ØºØ§Ø¡
                  </button>
              </div>
          </div>
      </div>
  </div>

  <script src="evaluation.js"></script>
</body>
</html>